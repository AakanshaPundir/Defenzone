

<style>
    /* Reviews Page Styling */
  .reviews-container {
    max-width: 900px;
    padding-top: 20px; 
    margin: auto;
    margin-bottom: 50px;
}

    .reviews-title {
        font-weight: 700;
        letter-spacing: 0.5px;
        margin-bottom: 30px;
    }

    .review-form {
        border-radius: 10px;
        border: none;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    }

    .review-form h3 {
        font-weight: 600;
        margin-bottom: 20px;
    }

    .review-form .form-control {
        border-radius: 6px;
        padding: 10px 12px;
        font-size: 0.95rem;
    }

    .review-form button {
        font-weight: 600;
        letter-spacing: 0.5px;
        padding: 10px;
        border-radius: 6px;
    }

    .review-card {
        border-left: 5px solid #0d6efd;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.06);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .review-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    }

    .review-card h4 {
        font-weight: 600;
        margin-bottom: 8px;
    }

    .review-card p {
        font-size: 0.95rem;
        line-height: 1.6;
        color: #333;
    }

    .review-card small {
        font-size: 0.8rem;
        color: #6c757d;
    }
</style>
<%- include('../partials/header') %>
<section>
    <div class="container reviews-container">

        <h1 class="text-center reviews-title">Customer Reviews</h1>

        <!-- Review Form -->
        <form action="/reviews" method="POST" class="card p-4 mb-5 review-form">
            <h3>Write a Review</h3>

            <input type="text" name="name" class="form-control mb-3" placeholder="Your Name" required>
            <input type="email" name="email" class="form-control mb-3" placeholder="Your Email" required>

            <select name="rating" class="form-control mb-3" required>
                <option value="">Select Rating</option>
                <option value="5">⭐⭐⭐⭐⭐</option>
                <option value="4">⭐⭐⭐⭐</option>
                <option value="3">⭐⭐⭐</option>
                <option value="2">⭐⭐</option>
                <option value="1">⭐</option>
            </select>

            <textarea name="message" class="form-control mb-3"
                      placeholder="Write your review..." required></textarea>

            <button class="btn btn-primary w-100">Submit Review</button>
        </form>

        <!-- Display Reviews -->
        <% if (reviews.length === 0) { %>
            <p class="text-center text-muted">No reviews yet.</p>
        <% } else { %>
            <% reviews.forEach(r => { %>
                <div class="card p-3 mb-3 review-card">
                    <div class="d-flex justify-content-between align-items-start">
                        <div>
                            <h4>
                                <%= r.name %>
                                <span class="text-warning ms-2">
                                    <%= "⭐".repeat(r.rating) %>
                                </span>
                            </h4>
                            <p><%= r.message %></p>
                            <small><%= r.createdAt.toDateString() %></small>
                        </div>

                        <form action="/reviews/delete/<%= r._id %>" method="POST"
                              onsubmit="return confirm('Are you sure you want to delete this review?');">
                            <button class="btn btn-sm btn-outline-danger">Delete</button>
                        </form>
                    </div>
                </div>
            <% }) %>
        <% } %>

    </div>
</section>

<%- include('../partials/footer') %>
